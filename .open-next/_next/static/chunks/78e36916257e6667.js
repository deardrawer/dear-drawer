(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15789,t=>{"use strict";var e=t.i(43476),r=t.i(71645);let u=(0,r.createContext)(void 0);function o({children:t}){let[o,a]=(0,r.useState)(null),[n,i]=(0,r.useState)("loading"),l=(0,r.useCallback)(async()=>{try{let t=await fetch("/api/auth/me");if(t.ok){let e=await t.json();a(e.user||null),i("authenticated")}else a(null),i("unauthenticated")}catch(t){console.error("Auth check error:",t),a(null),i("unauthenticated")}},[]);(0,r.useEffect)(()=>{l()},[l]);let c=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),a(null),i("unauthenticated")}catch(t){console.error("Logout error:",t)}};return(0,e.jsx)(u.Provider,{value:{user:o,status:n,logout:c,refreshAuth:l},children:t})}function a(){let t=(0,r.useContext)(u);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}t.s(["AuthProvider",()=>o,"useAuth",()=>a])}]);