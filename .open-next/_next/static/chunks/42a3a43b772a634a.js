(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,t)=>{s.exports=e.r(76562)},9064,e=>{"use strict";var s=e.i(43476),t=e.i(71645),i=e.i(15789),a=e.i(22016),l=e.i(18566),n=e.i(19455),r=e.i(15288),o=e.i(76639);function c(){let{user:e,status:c}=(0,i.useAuth)(),d=(0,l.useRouter)(),[x,h]=(0,t.useState)([]),[m,u]=(0,t.useState)(!0),[j,f]=(0,t.useState)(null),[g,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{"unauthenticated"===c?d.push("/login"):"authenticated"===c&&v()},[c,d]);let v=async()=>{try{let e=await fetch("/api/invitations"),s=await e.json();h(s.invitations||[])}catch(e){console.error("Failed to fetch invitations:",e)}finally{u(!1)}},N=async()=>{if(j){p(!0);try{(await fetch(`/api/invitations/${j}`,{method:"DELETE"})).ok&&h(x.filter(e=>e.id!==j))}catch(e){console.error("Failed to delete invitation:",e)}finally{p(!1),f(null)}}};return"loading"===c||m?(0,s.jsx)("div",{className:"container mx-auto px-4 py-12 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-rose-200 border-t-rose-600"})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"내 청첩장"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"생성한 청첩장을 관리하세요"})]}),(0,s.jsx)(a.default,{href:"/",children:(0,s.jsxs)(n.Button,{children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"새 청첩장 만들기"]})})]}),0===x.length?(0,s.jsx)(r.Card,{children:(0,s.jsxs)(r.CardContent,{className:"py-16 text-center",children:[(0,s.jsx)("div",{className:"text-gray-400 mb-4",children:(0,s.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"아직 청첩장이 없습니다"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:"템플릿을 선택하고 나만의 청첩장을 만들어보세요"}),(0,s.jsx)(a.default,{href:"/",children:(0,s.jsx)(n.Button,{children:"청첩장 만들기"})})]})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>{var t;return(0,s.jsxs)(r.Card,{className:"overflow-hidden",children:[(0,s.jsxs)("div",{className:"aspect-[3/4] bg-gradient-to-b from-rose-50 to-white relative",children:[(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-rose-100 flex items-center justify-center mb-3",children:(0,s.jsx)("span",{className:"text-lg font-serif text-rose-600",children:"W"})}),(0,s.jsxs)("h3",{className:"font-medium text-gray-900",children:[e.groom_name," & ",e.bride_name]}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:(t=e.wedding_date)?new Date(t).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"-"})]}),!e.is_published&&(0,s.jsx)("div",{className:"absolute top-2 left-2",children:(0,s.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"임시저장"})})]}),(0,s.jsxs)(r.CardContent,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title||`${e.groom_name} & ${e.bride_name}`}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["수정: ",new Date(e.updated_at).toLocaleDateString("ko-KR")]})]}),void 0!==e.rsvp_count&&(0,s.jsxs)("span",{className:"text-xs px-2 py-1 bg-rose-50 text-rose-600 rounded-full",children:["RSVP ",e.rsvp_count]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,s.jsx)(a.default,{href:`/editor?id=${e.id}`,className:"col-span-1",children:(0,s.jsx)(n.Button,{variant:"outline",size:"sm",className:"w-full",children:"편집"})}),(0,s.jsx)(a.default,{href:`/dashboard/${e.id}`,className:"col-span-1",children:(0,s.jsx)(n.Button,{variant:"outline",size:"sm",className:"w-full",children:"통계"})}),(0,s.jsx)(a.default,{href:`/i/${e.slug}`,target:"_blank",className:"col-span-1",children:(0,s.jsx)(n.Button,{variant:"outline",size:"sm",className:"w-full",children:"보기"})}),(0,s.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>f(e.id),className:"col-span-1 text-red-500 hover:text-red-600 hover:bg-red-50",children:"삭제"})]})]})]},e.id)})}),(0,s.jsx)(o.Dialog,{open:!!j,onOpenChange:()=>f(null),children:(0,s.jsxs)(o.DialogContent,{children:[(0,s.jsxs)(o.DialogHeader,{children:[(0,s.jsx)(o.DialogTitle,{children:"청첩장 삭제"}),(0,s.jsxs)(o.DialogDescription,{children:["정말로 이 청첩장을 삭제하시겠습니까?",(0,s.jsx)("br",{}),"삭제된 청첩장은 복구할 수 없습니다."]})]}),(0,s.jsxs)(o.DialogFooter,{children:[(0,s.jsx)(n.Button,{variant:"outline",onClick:()=>f(null),children:"취소"}),(0,s.jsx)(n.Button,{variant:"destructive",onClick:N,disabled:g,children:g?"삭제 중...":"삭제"})]})]})})]})}e.s(["default",()=>c])}]);